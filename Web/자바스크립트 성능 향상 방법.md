# 자바스크립트 성능 향상 방법

1. **변수 스코프**   
함수 호출중에 자바스크립트 컴파일러는 사용중인 변수 스코프를 탐색한다. 스코프 체인의 스코프 수가 증가함에 따라,
현재 스코프 외부에 있는 변수에 접근하는데 걸리는 시간도 증가한다.
따라서 엔진은 로컬 변수보다 전역 변수에 접근하는데에 시간이 더 걸린다. 즉, 대부분의 변수를 로컬 변수로 정의하면 변수 검색에
필요한 시간이 매우 줄어들게 된다. 결과적으로 애플리케이션 전반적인 성능이 향상된다.


2. **가볍고 적은 코드**   
애플리케이션의 고성능을 유지하려면, 코드를 최대한 가볍고 컴팩트하게 유해야한다. 그럼 페이지 레이턴시를 줄여주고 속도를 향상시켜준다.
다양한 JS파일을 하나로 축소하고 줄이는 것이다. 예를들어 5개의 JS파일이 있는 경우에 브라우저가 5개의 서로 다른 HTTP 리퀘스트를 
주고받아야 한다. 단지 5개의 파일을 하나로 바꿈으로써 이러한 부분을 개선할 수 있다.


3. **쓸데없는 반복문 사용X**   
반복문은 브라우저에 부담을 준다. 반복문 내부의 코드는 가능한 한 작아야 한다. 각 반복문 조건에 배열의 길이를 읽는 대신, 배열의 길이를
변수에 저장해놓고 접근하는 등의 방법을 사용하여 코드를 최적화할 수 있다.


4. **DOM 접근 최소화**
브라우저가 환경 외부에서 DOM 객체와 여러번 상호작용 해야하는 경우에 브라우저는 매번 새로고침을 하므로 성능이 저하된다.
DOM 접근을 최소화 하는 방법으로 브라우저 객체에 대한 참조를 저장하여 사용하거나, 전체 DOM 순회를 줄이는 방법이다.


5. **이벤트 위임**   
이벤트 위임을 사용해야 하나의 이벤트 핸들러를 사용하여 여러 이벤트를 효율적으로 처리할 수 있고, 이러한 방법은 결국 전체 페이지의
이벤트 유형을 효율적으로 관리하는데 도움이 된다. 대규모 웹 애플리케이션일 경우에 이벤트 위임을 사용하지 않는다면, 여러 이벤트 핸들러가 존재하게 되어
성능을 저하시킬 수 있고, 최악의 경우에는 애플리케이션이 멈출수도 있다. 이벤트 위임의 장점으로는 1. 관리할 기능이 적어진다. 
2. 처리하는데 필요한 메모리가 적어진다. 3. DOM을 다루는 코드가 적어진다.


6. **객체를 캐싱**
캐싱은 자주 접근하는 데이터를 캐시에 임시 저장하여 추가적인 요청에 재사용 할 수 있도록 하는 프로세스이다.
캐싱은 서버의 부담을 줄여주는데 도움이 된다. 각 요청의 사본을 저장한 후, 다음에 동일한 요청이 있을 때 캐시를 확인하여 제공한다.
사본이 없으면 요청은 서버로 전송되어 처리 및 컴파일되며 브라우저로 다시 돌아가는 동안 사본이 캐시에 저장된다.
**HTTP 프로토콜 캐시**, **서비스 워커 설치로 사용할 수 있는 자바스크립트 캐시 API** 를 사용할 수 있다.
또 해당 객체에 대한 참조 변수를 사용하거나 반복된 접근 객체를 사용자 정의 변수에 저장함으로써 성능을 향상시킬 수 있다.
   

7. **메모리 사용량 제한**
메모리 사용량 제한은 자바스크립트 개발자가 갖고 있어야하는 주요 기술중에 하나이다. 애플리케이션이 동작할 때는 디바이스에 필요한
정확한 메모리양을 결정하기 어렵기 때문이다. 애플리케이션이 브라우저를 위한 새로운 메모리 예약을 요청하면 브라우저의 가비지 콜렉터가 시작되고
일부 메모리를 확보하려고 시도한다. 자바스크립트 코드는 메모리가 있을때까지 기다려야한다. 이러한 문제가 지속되면 페이지 속도는 느려진다.


8. **자바스크립트 로딩 지연**
페이지를 처음 로드할 때 모든 기능을 사용하지는 않는다. 예를들어 사용자가 클릭하거나 탭을 바꾸는 등의 기능을 수행하는 경우, 초기 페이지의
로딩이 완료될 때까지 해당 기능에 대한 로딩을 연기할 수 있다. 이 방법을 통해 초기 표시를 유지하는 자바스크립트 코드의 로딩과 컴파일을 방지할 수 있다.
페이지가 로드되면 사용자가 나중에 필요할 때 애플리케이션과의 상호작용에 필요한 모든 기능을 로드할 수 있다. 구글의 RAIL 모델에 따라서 50ms 블록 단위로
로드를 연기해야 한다. 이렇게 하면 사용자와 페이지 간의 상호작용에 영향을 주지 않는다.


9. **메모리 누수 방지**
메모리 누수가 발생하면 페이지는 점점 더 많은 메모리를 사용하게 되고 결국 디바이스의 모든 메모리를 차지하게 된다.
이는 전체적인 성능에 부정적인 영향을 준다. 메모리 누수를 분석하는데 사용되는 툴로 크롬 개발자 도구의 성능(performance) 탭에서는
타임라인을 기록할 수 있다. 일반적으로 페이지에서 삭제된 DOM 조각이 메모리 누수와 연관이 있는데 이러한 DOM 조각들 가비지 컬렉터가 동작하는 것을
방해하는 참조 변수를 갖고있다.


10. **다양한 최적화 방법 사용**     
- 최적의 데이터 구조로 모든 작업을 해결하기 위해서는 계산 복잡성이 가장 적은 알고리즘을 사용해야 한다.
- 재귀 사용 금지
- 반복되는 모든 함수에 대해서 계산, 호출, 변수를 넣기 
 



출처 : https://medium.com/javascript-in-plain-english/how-to-improve-javascript-performance-f75f09835eb6