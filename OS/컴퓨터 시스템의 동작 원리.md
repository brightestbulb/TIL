# 컴퓨터 시스템의 동작 원리

## 컴퓨터 시스템의 구조
- 컴퓨터 내의 각 하드웨어 장치에는 **컨트롤러**가 있다. **컨트롤러**는 일종의 작은 CPU로서 각 하드웨어 장치마다 이들을 제어한다. ( 메모리 컨트롤러, 디스크 컨트롤러.. 등)
- 운영 체제는 여러 프로그램이 동시에 수행되는 시스템을 위한다. 프로그램이 메모리에 올라가 있어야 수행되는데, 운영체제는 컴퓨터가 부팅될 때부터 수행되면서 각종 자원들을 관리해야 하므로 항상 메모리에 올라가 있다. 
- 운영체제 중 항상 메모리에 올라가 있는 부분은 전체 운영 체제 중 일부분에 해당하는데 이 부분을 **커널** 이라고 한다.


## CPU와 I/O 연산
- 입출력 장치들의 I/O 연산은 I/O 컨트롤러가 담당하고 컴퓨터 내에서 수행되는 연산은 메인 CPU가 담당한다.
- 입출력 장치와 메인 CPU는 동시 수행이 가능한다. ( A프로그램이 CPU를 할당받아 코드를 수행중 & B프로그램은 HDD에서 정보를 읽어오는 작업 )
- 각 장치의 장치 컨트롤러에는 장치로부터 들어오고 나가는 데이터를 임시로 저장하기 위한 작은 메모리인 **로컬 버퍼**를 갖고 있다.
- 디스크나 키보드에서 데이터를 읽어오는 경우 이 로컬 버퍼에 데이터가 임시로 저장된 후 메모리에 전달한다.
- 장치에서 로컬 버퍼로 읽어오는 일을 컨트롤러가 담당한다.
- 각 장치의 컨트롤러가 버퍼에 데이터 준비가 다 끝나면 **인터럽트**를 통해 **CPU**에게 보고하게 된다.
- **인터럽트**란 컨트롤러가 CPU의 서비스를 필요로 할 때 각 장치의 컨트롤러가 통보하는 방법이다.
- CPU는 명렁 하나를 수행할 때마다 인터럽트 라인을 통해서 인터럽트가 발생했는지 체크하고 발생했으면 처리한다.

